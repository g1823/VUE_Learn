<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Object.defineproperty</title>
    <style></style>
    <script type="text/javascript" src=""></script>
</head>
<body>
    <script type="text/javascript">
        
        let person = {
            name:'张三',
            sex:'男'
        }

        let number = 33
        /* 
            该方法用来给一个对象添加属性
            第一个参数表示被添加属性的对象，例如person
            第二个参数表示添加属性的名字，例如age
            第三个参数表示添加属性的值，例如{value:18}
        */
        Object.defineProperty(person,'age',{
            //value:18,
            //控制属性是否可以被枚举
            //enumerable:true,
            //控制属性是否可以被修改
            //writable:true,
            //控制属性是否可以被删除
            //configurable:true,
            //在每次person.age被读取时，get()函数会被调用，get()返回值就是age的值
            get:function(){
                return number
            },

            //当有人修改该值(age)时，set()函数就会被调用，且会受到修改的具体值，即value
            set(value){
                console.log('age值被修改，值为',value)
            }
        })
        /*
            Object.keys()作用是将传入对象的所所有属性变为数组
        */
        console.log(Object.keys(person))
        // for(let key in person){
        //     console.log(key)
        // }
        //console.log(person)
    </script>
    <script type="text/javascript">
        let obj1 = {x:100}
        let obj2 = {y:101}
        //通过obj2代理obj1的属性x
        Object.defineProperty(obj2,'x',{
            get(){
                return obj1.x
            },
            set(value){
                obj1.x = value
            }
        })
    </script>

    <div id='root'>

    </div>
</body>
</html>